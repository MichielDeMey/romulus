apiVersion: v1
kind: Service
metadata:
  name: fourFiveSix
  namespace: test
  uid: ba2e58f0-3254-11e5-8d84-06dd91247d89
  resourceVersion: '12357'
  annotations:
    romulus/host: www.something.else
    romulus/frontendSettings.api: '{"FailoverPredicate":"(IsNetworkError() || ResponseCode() == 503) && Attempts() <= 2"}}'
    romulus/path.api: '/api/v2'
    romulus/path.web: '/blog'
    romulus/middleware.api.rateLimit: '{"Priority":0,"Type":"ratelimit","Middleware":{"Requests":1,"PeriodSeconds":1,"Burst":3,"Variable": "client.ip"}}'
    romulus/middleware.api.connLimit: '{"Priority": 1, "Type": "connlimit", "Middleware":{"Connections":5, "Variable": "client.ip"}}'
    romulus/middleware.https: '{"Priority":1,"Type":"rewrite","Middleware":{"Regexp":"^http://(.*)","Replacement":"https://$1","RewriteBody":false,"Redirect":true}}'
  labels:
    name: fourFiveSix
    namespace: test
    romulus/type: public
spec:
  type: ClusterIP
  clusterIP: 9.8.7.6
  ports:
    - name: api
      port: 1234
      protocol: TCP
    - name: web
      port: 8888
      protocol: TCP
